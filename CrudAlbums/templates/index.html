<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario Albums</title>
</head>

<body>

    <!--mensaje con jinja-->
    {% with msj = get_flashed_messages() %}
    {% if msj %}
    {% for mensaje in msj %}
    <h1>{{ mensaje }}</h1>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <form action="/guardarAlbum" method="post">

        <label>Titulo:</label>
        <input type="text" name="txtTitulo">

        <label>Artista:</label>
        <input type="text" name="txtArtista">

        <label>Año:</label>
        <input type="number" name="txtAnio">

        <button type="submit">Guardar Album</button>

    </form>
    <br>
    <br>
    <br>

    <table>
        <thead>
            <tr>
                <td>ID</td>
                <td>Album</td>
                <td>Artista</td>
                <td>Año</td>
                <td>Operaciones</td>
            </tr>
        </thead>

        <tbody>
            {% for album in albums %}
            <tr>
                <td>{{ album.id }}</td>
                <td>{{ album.titulo }}</td>
                <td>{{ album.artista }}</td>
                <td>{{ album.anio }}</td>
                <td>
                    <a href="/editar/{{ album.id }}">Editar</a>
                    <a href="/eliminar/{{ album.id }}">Eliminar</a>
                    <button onclick="confirmarEliminacion('{{ album.id }}')">Eliminar Álbum</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        function confirmarEliminacion(id) {
            var confirmacion = confirm("¿Estás seguro de que deseas eliminar este álbum?")
        }
    </script>
</body>

</html>


</html>